<style>
  /* 1. ·∫®n n√∫t "View on GitHub" v√† "Download" tr√™n ƒë·∫ßu trang */
  .project-name, .project-tagline { margin-bottom: 10px; }
  .btn { display: none !important; } /* L·ªánh h·ªßy di·ªát n√∫t */

  /* 2. Ch·ªânh khung b√†i vi·∫øt (CƒÉn gi·ªØa, ƒë·ªô r·ªông v·ª´a ph·∫£i) */
  .main-content {
    max-width: 900px !important; /* R·ªông 900px ƒë·ªçc cho s∆∞·ªõng */
    margin: 0 auto !important;   /* T·ª± ƒë·ªông cƒÉn gi·ªØa m√†n h√¨nh */
    padding: 2rem 1rem !important;
    font-size: 1.1rem;           /* Ch·ªØ to h∆°n m·∫∑c ƒë·ªãnh x√≠u */
  }

  /* 3. CƒÉn ch·ªânh vƒÉn b·∫£n truy·ªán (Chu·∫©n s√°ch gi√°o khoa) */
  p {
    text-align: justify !important; /* CƒÉn ƒë·ªÅu 2 b√™n */
    text-indent: 30px !important;   /* Th·ª•t ƒë·∫ßu d√≤ng */
    line-height: 1.8 !important;    /* D√£n d√≤ng tho√°ng */
    margin-bottom: 25px !important;
    color: #1a1a1a !important;      /* M√†u ch·ªØ ƒëen x√°m d·ªãu m·∫Øt (kh√¥ng ƒëen s√¨) */
  }

  /* 4. Ti√™u ƒë·ªÅ b√†i vi·∫øt */
  h1, h2, h3 {
    color: #159957 !important; /* M√†u xanh l√° m·∫° c·ªßa theme cho ƒë·ªìng b·ªô */
    margin-top: 40px !important;
  }

  /* 5. Link */
  a { color: #1e6bb8 !important; }
  
  /* 6. ·∫¢nh */
  img { 
    display: block; 
    margin: 20px auto; 
    border-radius: 5px; 
    box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* ƒê·ªï b√≥ng nh·∫π cho ·∫£nh n·ªïi */
  }
</style>

<script>
document.addEventListener("DOMContentLoaded", function() {
    // 1. T·∫°o ch√¨a kh√≥a ri√™ng cho t·ª´ng trang (Chap 1 kh√°c Chap 2)
    var storageKey = 'scrollPos-' + window.location.pathname;

    // 2. Ki·ªÉm tra xem c√≥ v·ªã tr√≠ c≈© kh√¥ng
    var savedPos = localStorage.getItem(storageKey);
    
    if (savedPos > 0) {
        // N·∫øu c√≥ th√¨ tr∆∞·ª£t nh·∫π xu·ªëng ch·ªó c≈©
        setTimeout(function() {
            window.scrollTo({ top: savedPos, behavior: 'smooth' });
            
            // Hi·ªán th√¥ng b√°o nh·ªè x√≠u g√≥c m√†n h√¨nh cho ng·∫ßu
            showNotification("üìç ƒê√£ quay l·∫°i ch·ªó ƒë·ªçc c≈© nha b·ªì!");
        }, 500); // ƒê·ª£i 0.5s cho web load xong ·∫£nh ·ªçt r·ªìi m·ªõi tr∆∞·ª£t
    }

    // 3. L∆∞u v·ªã tr√≠ m·ªói khi cu·ªôn chu·ªôt (Delay 1 x√≠u cho ƒë·ª° lag m√°y)
    var timeout;
    window.addEventListener('scroll', function() {
        clearTimeout(timeout);
        timeout = setTimeout(function() {
            localStorage.setItem(storageKey, window.scrollY);
        }, 200);
    });

    // H√†m t·∫°o th√¥ng b√°o cute
    function showNotification(message) {
        var note = document.createElement('div');
        note.innerHTML = message;
        note.style.position = 'fixed';
        note.style.bottom = '20px';
        note.style.right = '20px';
        note.style.backgroundColor = '#159957'; // M√†u xanh c·ªßa theme
        note.style.color = 'white';
        note.style.padding = '10px 20px';
        note.style.borderRadius = '5px';
        note.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
        note.style.zIndex = '9999';
        note.style.fontSize = '14px';
        note.style.animation = 'fadeInOut 3s forwards';
        
        // Th√™m CSS animation tr·ª±c ti·∫øp
        var style = document.createElement('style');
        style.innerHTML = `
            @keyframes fadeInOut {
                0% { opacity: 0; transform: translateY(20px); }
                10% { opacity: 1; transform: translateY(0); }
                80% { opacity: 1; transform: translateY(0); }
                100% { opacity: 0; transform: translateY(20px); }
            }
        `;
        document.head.appendChild(style);
        document.body.appendChild(note);

        // T·ª± bi·∫øn m·∫•t sau 3s
        setTimeout(function() {
            note.remove();
        }, 3000);
    }
});
</script>

<script>
document.addEventListener("DOMContentLoaded", function() {
    // 1. ƒê·ªãnh nghƒ©a c√°c m·ª•c trong Menu
    // √îng mu·ªën ƒë·ªïi t√™n hay th√™m m·ª•c th√¨ s·ª≠a ·ªü ƒë√¢y nha
    const menuItems = [
        { name: "üè† Trang Ch·ªß", link: "{{ site.baseurl }}/" },
        { name: "üî• Truy·ªán ƒêang Ra", link: "{{ site.baseurl }}/tags/#dang-ra" },
        { name: "‚úÖ Ho√†n Th√†nh", link: "{{ site.baseurl }}/tags/#hoan-thanh" },
        { name: "üçÇ Drop", link: "{{ site.baseurl }}/tags/#drop" }
    ];

    // 2. T·∫°o khung HTML cho Menu
    const navBar = document.createElement('div');
    navBar.className = 'custom-nav';
    
    let navHTML = '';
    menuItems.forEach(item => {
        navHTML += `<a href="${item.link}">${item.name}</a>`;
    });
    navBar.innerHTML = navHTML;

    // 3. Ch√®n v√†o d∆∞·ªõi c√°i t√™n web (trong th·∫ª header)
    const header = document.querySelector('.page-header');
    if (header) {
        header.appendChild(navBar);
    }
});
</script>

<style>
    /* Khung ch·ª©a menu */
    .custom-nav {
        display: flex;
        justify-content: center; /* CƒÉn gi·ªØa */
        flex-wrap: wrap;         /* T·ª± xu·ªëng d√≤ng n·∫øu m√†n h√¨nh nh·ªè */
        margin-top: 20px;        /* C√°ch c√°i t√™n web ra x√≠u */
        gap: 20px;               /* Kho·∫£ng c√°ch gi·ªØa c√°c m·ª•c */
        font-family: 'Segoe UI', sans-serif;
    }

    /* T·ª´ng c√°i link trong menu */
    .custom-nav a {
        color: rgba(255, 255, 255, 0.8) !important; /* M√†u tr·∫Øng m·ªù cho sang */
        text-decoration: none !important;
        font-size: 16px;
        font-weight: bold;
        padding-bottom: 5px;
        border-bottom: 2px solid transparent; /* G·∫°ch ch√¢n t√†ng h√¨nh */
        transition: all 0.3s ease;
    }

    /* Khi di chu·ªôt v√†o */
    .custom-nav a:hover {
        color: #fff !important; /* S√°ng l√™n */
        border-bottom: 2px solid #fff; /* Hi·ªán g·∫°ch ch√¢n */
    }
</style>

<style>
  /* 1. C√°i n√∫t b·∫≠t t·∫Øt l∆° l·ª≠ng */
  #darkModeBtn {
    position: fixed;
    bottom: 20px;
    left: 20px; /* ƒê·ªÉ b√™n tr√°i cho ƒë·ª° ƒë·ª•ng c√°i th√¥ng b√°o b√™n ph·∫£i */
    width: 50px;
    height: 50px;
    background-color: #2d3436;
    color: #dfe6e9;
    border: 2px solid #dfe6e9;
    border-radius: 50%;
    cursor: pointer;
    z-index: 10000;
    font-size: 24px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  #darkModeBtn:hover {
    transform: scale(1.1); /* Ph√≥ng to nh·∫π khi di chu·ªôt v√†o */
    background-color: #000;
  }

  /* 2. Giao di·ªán Dark Mode (Khi body c√≥ class 'dark-mode') */
  body.dark-mode {
    background-color: #121212 !important; /* N·ªÅn ƒëen th·∫´m */
    color: #e0e0e0 !important; /* Ch·ªØ tr·∫Øng x√°m */
  }

  /* Fix l·∫°i c√°i khung b√†i vi·∫øt */
  body.dark-mode .main-content {
    background-color: #121212 !important;
  }

  /* Ch·ªØ trong b√†i */
  body.dark-mode p {
    color: #b0b3b8 !important; /* X√°m nh·∫π cho ƒë·ª° ch√≥i */
  }

  /* Ti√™u ƒë·ªÅ */
  body.dark-mode h1, body.dark-mode h2, body.dark-mode h3 {
    color: #55efc4 !important; /* Xanh mint s√°ng d·∫° quang bao n·ªïi */
  }

  /* ƒê∆∞·ªùng link */
  body.dark-mode a {
    color: #74b9ff !important; /* Xanh d∆∞∆°ng baby */
  }

  /* C√°i header tr√™n c√πng (ch·ªó t√™n web) cho t·ªëi l·∫°i lu√¥n */
  body.dark-mode .page-header {
    background-image: linear-gradient(120deg, #2d3436, #000000) !important;
    color: #fff !important;
  }

  /* Blockquote (tr√≠ch d·∫´n) */
  body.dark-mode blockquote {
    color: #dfe6e9 !important;
    border-left-color: #55efc4 !important;
  }
</style>

<script>
document.addEventListener("DOMContentLoaded", function() {
    // 1. T·∫°o c√°i n√∫t b·∫•m
    const btn = document.createElement("button");
    btn.id = "darkModeBtn";
    btn.innerHTML = "üåô"; // M·∫∑c ƒë·ªãnh l√† h√¨nh m·∫∑t trƒÉng
    btn.title = "B·∫≠t/T·∫Øt ch·∫ø ƒë·ªô ban ƒë√™m";
    document.body.appendChild(btn);

    // 2. Check xem tr∆∞·ªõc ƒë√≥ √¥ng c√≥ b·∫≠t ch∆∞a (L∆∞u trong b·ªô nh·ªõ m√°y)
    const currentTheme = localStorage.getItem("theme");
    if (currentTheme === "dark") {
        document.body.classList.add("dark-mode");
        btn.innerHTML = "‚òÄÔ∏è"; // N·∫øu ƒëang t·ªëi th√¨ hi·ªán m·∫∑t tr·ªùi
    }

    // 3. S·ª± ki·ªán click n√∫t
    btn.addEventListener("click", function() {
        document.body.classList.toggle("dark-mode");
        
        let theme = "light";
        if (document.body.classList.contains("dark-mode")) {
            theme = "dark";
            btn.innerHTML = "‚òÄÔ∏è"; // Chuy·ªÉn sang icon s√°ng
        } else {
            btn.innerHTML = "üåô"; // Chuy·ªÉn v·ªÅ icon t·ªëi
        }
        
        // L∆∞u l·∫°i l·ª±a ch·ªçn ƒë·ªÉ l·∫ßn sau v√†o web n√≥ t·ª± nh·ªõ
        localStorage.setItem("theme", theme);
    });
});
</script>